import{e as dt}from"./index-DHbCxMiv.js";var fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var Qe={},V={};Object.defineProperty(V,"__esModule",{value:!0});V.FORMAT_PLAIN=V.FORMAT_HTML=V.FORMATS=void 0;var Xe="html";V.FORMAT_HTML=Xe;var Ke="plain";V.FORMAT_PLAIN=Ke;var mt=[Xe,Ke];V.FORMATS=mt;var j={};Object.defineProperty(j,"__esModule",{value:!0});j.UNIT_WORDS=j.UNIT_WORD=j.UNIT_SENTENCES=j.UNIT_SENTENCE=j.UNIT_PARAGRAPHS=j.UNIT_PARAGRAPH=j.UNITS=void 0;var Ze="words";j.UNIT_WORDS=Ze;var er="word";j.UNIT_WORD=er;var rr="sentences";j.UNIT_SENTENCES=rr;var tr="sentence";j.UNIT_SENTENCE=tr;var nr="paragraphs";j.UNIT_PARAGRAPHS=nr;var ar="paragraph";j.UNIT_PARAGRAPH=ar;var ht=[Ze,er,rr,tr,nr,ar];j.UNITS=ht;var oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.WORDS=void 0;var gt=["ad","adipisicing","aliqua","aliquip","amet","anim","aute","cillum","commodo","consectetur","consequat","culpa","cupidatat","deserunt","do","dolor","dolore","duis","ea","eiusmod","elit","enim","esse","est","et","eu","ex","excepteur","exercitation","fugiat","id","in","incididunt","ipsum","irure","labore","laboris","laborum","Lorem","magna","minim","mollit","nisi","non","nostrud","nulla","occaecat","officia","pariatur","proident","qui","quis","reprehenderit","sint","sit","sunt","tempor","ullamco","ut","velit","veniam","voluptate"];oe.WORDS=gt;var or={},de={};Object.defineProperty(de,"__esModule",{value:!0});de.LINE_ENDINGS=void 0;var pt={POSIX:`
`,WIN32:`\r
`};de.LINE_ENDINGS=pt;var ir={},Ne={},ur={};(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var L=function(N){var _=N.trim();return _.charAt(0).toUpperCase()+_.slice(1)},w=L;m.default=w})(ur);var Re={exports:{}};(function(m,L){Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var w=function(){return!!m.exports},x=w;L.default=x})(Re,Re.exports);var yt=Re.exports,sr={};(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var L=function(){var N=!1;try{N=navigator.product==="ReactNative"}catch{N=!1}return N},w=L;m.default=w})(sr);var fr={},ve={};Object.defineProperty(ve,"__esModule",{value:!0});ve.SUPPORTED_PLATFORMS=void 0;var _t={DARWIN:"darwin",LINUX:"linux",WIN32:"win32"};ve.SUPPORTED_PLATFORMS=_t;(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var L=ve,w=function(){var _=!1;try{_=process.platform===L.SUPPORTED_PLATFORMS.WIN32}catch{_=!1}return _},x=w;m.default=x})(fr);var Ae={};(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var L=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Array.apply(null,Array(N)).map(function(_,D){return D})},w=L;m.default=w})(Ae);var cr={};(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var L=w(Ae);function w(_){return _&&_.__esModule?_:{default:_}}var x=function(D,g){var S=(0,L.default)(D);return S.map(function(){return g()})},N=x;m.default=N})(cr);(function(m){Object.defineProperty(m,"__esModule",{value:!0}),Object.defineProperty(m,"capitalize",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(m,"isNode",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(m,"isReactNative",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(m,"isWindows",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(m,"makeArrayOfLength",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(m,"makeArrayOfStrings",{enumerable:!0,get:function(){return D.default}});var L=g(ur),w=g(yt),x=g(sr),N=g(fr),_=g(Ae),D=g(cr);function g(S){return S&&S.__esModule?S:{default:S}}})(Ne);(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var L=oe,w=Ne;function x(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function N(I,E){for(var u=0;u<E.length;u++){var f=E[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(I,f.key,f)}}function _(I,E,u){return E&&N(I.prototype,E),u&&N(I,u),Object.defineProperty(I,"prototype",{writable:!1}),I}function D(I,E,u){return E in I?Object.defineProperty(I,E,{value:u,enumerable:!0,configurable:!0,writable:!0}):I[E]=u,I}var g=function(){function I(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=E.sentencesPerParagraph,f=u===void 0?{max:7,min:3}:u,p=E.wordsPerSentence,h=p===void 0?{max:15,min:5}:p,P=E.random;E.seed;var O=E.words,M=O===void 0?L.WORDS:O;if(x(this,I),D(this,"sentencesPerParagraph",void 0),D(this,"wordsPerSentence",void 0),D(this,"random",void 0),D(this,"words",void 0),f.min>f.max)throw new Error("Minimum number of sentences per paragraph (".concat(f.min,") cannot exceed maximum (").concat(f.max,")."));if(h.min>h.max)throw new Error("Minimum number of words per sentence (".concat(h.min,") cannot exceed maximum (").concat(h.max,")."));this.sentencesPerParagraph=f,this.words=M,this.wordsPerSentence=h,this.random=P||Math.random}return _(I,[{key:"generateRandomInteger",value:function(u,f){return Math.floor(this.random()*(f-u+1)+u)}},{key:"generateRandomWords",value:function(u){var f=this,p=this.wordsPerSentence,h=p.min,P=p.max,O=u||this.generateRandomInteger(h,P);return(0,w.makeArrayOfLength)(O).reduce(function(M,z){return"".concat(f.pluckRandomWord()," ").concat(M)},"").trim()}},{key:"generateRandomSentence",value:function(u){return"".concat((0,w.capitalize)(this.generateRandomWords(u)),".")}},{key:"generateRandomParagraph",value:function(u){var f=this,p=this.sentencesPerParagraph,h=p.min,P=p.max,O=u||this.generateRandomInteger(h,P);return(0,w.makeArrayOfLength)(O).reduce(function(M,z){return"".concat(f.generateRandomSentence()," ").concat(M)},"").trim()}},{key:"pluckRandomWord",value:function(){var u=0,f=this.words.length-1,p=this.generateRandomInteger(u,f);return this.words[p]}}]),I}(),S=g;m.default=S})(ir);(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var L=V,w=de,x=_(ir),N=Ne;function _(f){return f&&f.__esModule?f:{default:f}}function D(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function g(f,p){for(var h=0;h<p.length;h++){var P=p[h];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}function S(f,p,h){return p&&g(f.prototype,p),h&&g(f,h),Object.defineProperty(f,"prototype",{writable:!1}),f}function I(f,p,h){return p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h,f}var E=function(){function f(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L.FORMAT_PLAIN,P=arguments.length>2?arguments[2]:void 0;if(D(this,f),this.format=h,this.suffix=P,I(this,"generator",void 0),L.FORMATS.indexOf(h.toLowerCase())===-1)throw new Error("".concat(h," is an invalid format. Please use ").concat(L.FORMATS.join(" or "),"."));this.generator=new x.default(p)}return S(f,[{key:"getLineEnding",value:function(){return this.suffix?this.suffix:!(0,N.isReactNative)()&&(0,N.isNode)()&&(0,N.isWindows)()?w.LINE_ENDINGS.WIN32:w.LINE_ENDINGS.POSIX}},{key:"formatString",value:function(h){return this.format===L.FORMAT_HTML?"<p>".concat(h,"</p>"):h}},{key:"formatStrings",value:function(h){var P=this;return h.map(function(O){return P.formatString(O)})}},{key:"generateWords",value:function(h){return this.formatString(this.generator.generateRandomWords(h))}},{key:"generateSentences",value:function(h){return this.formatString(this.generator.generateRandomParagraph(h))}},{key:"generateParagraphs",value:function(h){var P=this.generator.generateRandomParagraph.bind(this.generator);return this.formatStrings((0,N.makeArrayOfStrings)(h,P)).join(this.getLineEnding())}}]),f}(),u=E;m.default=u})(or);(function(m){Object.defineProperty(m,"__esModule",{value:!0}),Object.defineProperty(m,"LoremIpsum",{enumerable:!0,get:function(){return N.default}}),m.loremIpsum=void 0;var L=V,w=j,x=oe,N=_(or);function _(g){return g&&g.__esModule?g:{default:g}}var D=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=S.count,E=I===void 0?1:I,u=S.format,f=u===void 0?L.FORMAT_PLAIN:u,p=S.paragraphLowerBound,h=p===void 0?3:p,P=S.paragraphUpperBound,O=P===void 0?7:P,M=S.random,z=S.sentenceLowerBound,Q=z===void 0?5:z,A=S.sentenceUpperBound,d=A===void 0?15:A,R=S.units,b=R===void 0?w.UNIT_SENTENCES:R,k=S.words,F=k===void 0?x.WORDS:k,W=S.suffix,$=W===void 0?"":W,H={random:M,sentencesPerParagraph:{max:O,min:h},words:F,wordsPerSentence:{max:d,min:Q}},Y=new N.default(H,f,$);switch(b){case w.UNIT_PARAGRAPHS:case w.UNIT_PARAGRAPH:return Y.generateParagraphs(E);case w.UNIT_SENTENCES:case w.UNIT_SENTENCE:return Y.generateSentences(E);case w.UNIT_WORDS:case w.UNIT_WORD:return Y.generateWords(E);default:return""}};m.loremIpsum=D})(Qe);const bt=["A mad boxer shot a quick, gloved jab to the jaw of his dizzy opponent","A quart jar of oil mixed with zinc oxide makes a very bright paint","All questions asked by five watched experts amaze the judge","Amazingly few discotheques provide jukeboxes","Anxious Al waved back his pa from the zinc quarry just sighted","As we explored the gulf in Zanzibar, we quickly moved closer to the jutting rocks","Back home after jiving so, he expired with quizzicality","Big Fuji waves pitch enzymed kex liquor","Cozy lummox gives smart squid who asks for job pen","Fix problem quickly with galvanized jets","Glib jocks quiz nymph to vex dwarf","Grumpy wizards make toxic brew for the evil queen and jack","Heavy boxes perform quick waltzes and jigs","How quickly daft jumping zebras vex","How razorback-jumping frogs can level six piqued gymnasts","How vexingly quick daft zebras jump","If I give you cloth with quartz beads (onyx, jasper, amethyst), keep it","Jackdaws love my big sphinx of quartz","Jaded zombies acted quaintly but kept driving their oxen forward","Jinxed wizards pluck ivy from the big quilt","Jived fox nymph grabs quick waltz","Joe was pleased over our gift of quail, mink, zebra, and clever oryx","Pack my box with five dozen liquor jugs","Picking just six quinces, the new farmhand proves strong but lazy","Quick zephyrs blow, vexing daft Jim","Six big juicy steaks sizzled in a pan as five workmen left the quarry","Sixty zippers were quickly picked from the woven jute bag","Sphinx of black quartz, judge my vow","The explorer was frozen in his big kayak just after making queer discoveries","The five boxing wizards jump quickly","The job requires extra pluck and zeal from every young wage earner","The July sun caused a fragment of black pine wax to ooze on the velvet quilt","The public was amazed to view the quickness and dexterity of the juggler","The quick brown fox jumps over the lazy dog","The soprano took Mozartâ€™s joyful quavers with grace and exuberance","The vixen jumped quickly on her foe, barking with zeal","The wizard quickly jinxed the gnomes before they vaporized","Traveling beneath the azure sky in our jolly ox-cart, we often hit bumps quite hard","Waltz, bad nymph, for quick jigs vex","We promptly judged antique ivory buckles for the next prize","We quickly seized the black axle and just saved it from going past him","Whenever the black fox jumped, the squirrel gazed suspiciously","While making deep excavations, we found some quaint bronze jewelry","William said that everything about his jacket was in quite good condition except for the zipper"];function ae(m){return Math.floor(Math.random()*m.length)}function le(m){return m[ae(m)]}const wt=new Qe.LoremIpsum({sentencesPerParagraph:{max:8,min:4},wordsPerSentence:{max:16,min:4}});function St(){const m=wt.generateParagraphs(1).split(" ");for(let L=0;L<3;++L){const w=ae(m),x=ae(m),N=ae(m),_=ae(m);m[w]=`<b>${m[w]}</b>`,m[x]=`<i>${m[x]}</i>`,m[N]=`<b><i>${m[N]}</i></b>`,m[_]=(Math.random()*1e3).toFixed(2)}return[le(bt),m.join(" ")]}function ce(m){throw new Error('Could not dynamically require "'+m+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lr={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(m,L){(function(w){m.exports=w()})(function(){return function w(x,N,_){function D(I,E){if(!N[I]){if(!x[I]){var u=typeof ce=="function"&&ce;if(!E&&u)return u(I,!0);if(g)return g(I,!0);var f=new Error("Cannot find module '"+I+"'");throw f.code="MODULE_NOT_FOUND",f}var p=N[I]={exports:{}};x[I][0].call(p.exports,function(h){var P=x[I][1][h];return D(P||h)},p,p.exports,w,x,N,_)}return N[I].exports}for(var g=typeof ce=="function"&&ce,S=0;S<_.length;S++)D(_[S]);return D}({1:[function(w,x,N){(function(_){var D=_.MutationObserver||_.WebKitMutationObserver,g;if(D){var S=0,I=new D(h),E=_.document.createTextNode("");I.observe(E,{characterData:!0}),g=function(){E.data=S=++S%2}}else if(!_.setImmediate&&typeof _.MessageChannel<"u"){var u=new _.MessageChannel;u.port1.onmessage=h,g=function(){u.port2.postMessage(0)}}else"document"in _&&"onreadystatechange"in _.document.createElement("script")?g=function(){var O=_.document.createElement("script");O.onreadystatechange=function(){h(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},_.document.documentElement.appendChild(O)}:g=function(){setTimeout(h,0)};var f,p=[];function h(){f=!0;for(var O,M,z=p.length;z;){for(M=p,p=[],O=-1;++O<z;)M[O]();z=p.length}f=!1}x.exports=P;function P(O){p.push(O)===1&&!f&&g()}}).call(this,typeof fe<"u"?fe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(w,x,N){var _=w(1);function D(){}var g={},S=["REJECTED"],I=["FULFILLED"],E=["PENDING"];x.exports=u;function u(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,d!==D&&P(this,d)}u.prototype.catch=function(d){return this.then(null,d)},u.prototype.then=function(d,R){if(typeof d!="function"&&this.state===I||typeof R!="function"&&this.state===S)return this;var b=new this.constructor(D);if(this.state!==E){var k=this.state===I?d:R;p(b,k,this.outcome)}else this.queue.push(new f(b,d,R));return b};function f(d,R,b){this.promise=d,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(d){g.resolve(this.promise,d)},f.prototype.otherCallFulfilled=function(d){p(this.promise,this.onFulfilled,d)},f.prototype.callRejected=function(d){g.reject(this.promise,d)},f.prototype.otherCallRejected=function(d){p(this.promise,this.onRejected,d)};function p(d,R,b){_(function(){var k;try{k=R(b)}catch(F){return g.reject(d,F)}k===d?g.reject(d,new TypeError("Cannot resolve promise with itself")):g.resolve(d,k)})}g.resolve=function(d,R){var b=O(h,R);if(b.status==="error")return g.reject(d,b.value);var k=b.value;if(k)P(d,k);else{d.state=I,d.outcome=R;for(var F=-1,W=d.queue.length;++F<W;)d.queue[F].callFulfilled(R)}return d},g.reject=function(d,R){d.state=S,d.outcome=R;for(var b=-1,k=d.queue.length;++b<k;)d.queue[b].callRejected(R);return d};function h(d){var R=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof R=="function")return function(){R.apply(d,arguments)}}function P(d,R){var b=!1;function k(H){b||(b=!0,g.reject(d,H))}function F(H){b||(b=!0,g.resolve(d,H))}function W(){R(F,k)}var $=O(W);$.status==="error"&&k($.value)}function O(d,R){var b={};try{b.value=d(R),b.status="success"}catch(k){b.status="error",b.value=k}return b}u.resolve=M;function M(d){return d instanceof this?d:g.resolve(new this(D),d)}u.reject=z;function z(d){var R=new this(D);return g.reject(R,d)}u.all=Q;function Q(d){var R=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=d.length,k=!1;if(!b)return this.resolve([]);for(var F=new Array(b),W=0,$=-1,H=new this(D);++$<b;)Y(d[$],$);return H;function Y(re,ie){R.resolve(re).then(me,function(Z){k||(k=!0,g.reject(H,Z))});function me(Z){F[ie]=Z,++W===b&&!k&&(k=!0,g.resolve(H,F))}}}u.race=A;function A(d){var R=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=d.length,k=!1;if(!b)return this.resolve([]);for(var F=-1,W=new this(D);++F<b;)$(d[F]);return W;function $(H){R.resolve(H).then(function(Y){k||(k=!0,g.resolve(W,Y))},function(Y){k||(k=!0,g.reject(W,Y))})}}},{1:1}],3:[function(w,x,N){(function(_){typeof _.Promise!="function"&&(_.Promise=w(2))}).call(this,typeof fe<"u"?fe:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(w,x,N){var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var S=g();function I(){try{if(!S||!S.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function E(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(n){if(n.name!=="TypeError")throw n;for(var r=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,a=new r,o=0;o<e.length;o+=1)a.append(e[o]);return a.getBlob(t.type)}}typeof Promise>"u"&&w(3);var u=Promise;function f(e,t){t&&e.then(function(r){t(null,r)},function(r){t(r)})}function p(e,t,r){typeof t=="function"&&e.then(t),typeof r=="function"&&e.catch(r)}function h(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function P(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var O="local-forage-detect-blob-support",M=void 0,z={},Q=Object.prototype.toString,A="readonly",d="readwrite";function R(e){for(var t=e.length,r=new ArrayBuffer(t),a=new Uint8Array(r),o=0;o<t;o++)a[o]=e.charCodeAt(o);return r}function b(e){return new u(function(t){var r=e.transaction(O,d),a=E([""]);r.objectStore(O).put(a,"key"),r.onabort=function(o){o.preventDefault(),o.stopPropagation(),t(!1)},r.oncomplete=function(){var o=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!o||parseInt(o[1],10)>=43)}}).catch(function(){return!1})}function k(e){return typeof M=="boolean"?u.resolve(M):b(e).then(function(t){return M=t,M})}function F(e){var t=z[e.name],r={};r.promise=new u(function(a,o){r.resolve=a,r.reject=o}),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then(function(){return r.promise}):t.dbReady=r.promise}function W(e){var t=z[e.name],r=t.deferredOperations.pop();if(r)return r.resolve(),r.promise}function $(e,t){var r=z[e.name],a=r.deferredOperations.pop();if(a)return a.reject(t),a.promise}function H(e,t){return new u(function(r,a){if(z[e.name]=z[e.name]||Pe(),e.db)if(t)F(e),e.db.close();else return r(e.db);var o=[e.name];t&&o.push(e.version);var n=S.open.apply(S,o);t&&(n.onupgradeneeded=function(i){var s=n.result;try{s.createObjectStore(e.storeName),i.oldVersion<=1&&s.createObjectStore(O)}catch(c){if(c.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+i.oldVersion+" to version "+i.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw c}}),n.onerror=function(i){i.preventDefault(),a(n.error)},n.onsuccess=function(){var i=n.result;i.onversionchange=function(s){s.target.close()},r(i),W(e)}})}function Y(e){return H(e,!1)}function re(e){return H(e,!0)}function ie(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),a=e.version<e.db.version,o=e.version>e.db.version;if(a&&(e.version!==t&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||r){if(r){var n=e.db.version+1;n>e.version&&(e.version=n)}return!0}return!1}function me(e){return new u(function(t,r){var a=new FileReader;a.onerror=r,a.onloadend=function(o){var n=btoa(o.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:e.type})},a.readAsBinaryString(e)})}function Z(e){var t=R(atob(e.data));return E([t],{type:e.type})}function Te(e){return e&&e.__local_forage_encoded_blob}function vr(e){var t=this,r=t._initReady().then(function(){var a=z[t._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return p(r,e,e),r}function mr(e){F(e);for(var t=z[e.name],r=t.forages,a=0;a<r.length;a++){var o=r[a];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,Y(e).then(function(n){return e.db=n,ie(e)?re(e):n}).then(function(n){e.db=t.db=n;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=n}).catch(function(n){throw $(e,n),n})}function J(e,t,r,a){a===void 0&&(a=1);try{var o=e.db.transaction(e.storeName,t);r(null,o)}catch(n){if(a>0&&(!e.db||n.name==="InvalidStateError"||n.name==="NotFoundError"))return u.resolve().then(function(){if(!e.db||n.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),re(e)}).then(function(){return mr(e).then(function(){J(e,t,r,a-1)})}).catch(r);r(n)}}function Pe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function hr(e){var t=this,r={db:null};if(e)for(var a in e)r[a]=e[a];var o=z[r.name];o||(o=Pe(),z[r.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=vr);var n=[];function i(){return u.resolve()}for(var s=0;s<o.forages.length;s++){var c=o.forages[s];c!==t&&n.push(c._initReady().catch(i))}var l=o.forages.slice(0);return u.all(n).then(function(){return r.db=o.db,Y(r)}).then(function(v){return r.db=v,ie(r,t._defaultConfig.version)?re(r):v}).then(function(v){r.db=o.db=v,t._dbInfo=r;for(var y=0;y<l.length;y++){var T=l[y];T!==t&&(T._dbInfo.db=r.db,T._dbInfo.version=r.version)}})}function gr(e,t){var r=this;e=h(e);var a=new u(function(o,n){r.ready().then(function(){J(r._dbInfo,A,function(i,s){if(i)return n(i);try{var c=s.objectStore(r._dbInfo.storeName),l=c.get(e);l.onsuccess=function(){var v=l.result;v===void 0&&(v=null),Te(v)&&(v=Z(v)),o(v)},l.onerror=function(){n(l.error)}}catch(v){n(v)}})}).catch(n)});return f(a,t),a}function pr(e,t){var r=this,a=new u(function(o,n){r.ready().then(function(){J(r._dbInfo,A,function(i,s){if(i)return n(i);try{var c=s.objectStore(r._dbInfo.storeName),l=c.openCursor(),v=1;l.onsuccess=function(){var y=l.result;if(y){var T=y.value;Te(T)&&(T=Z(T));var C=e(T,y.key,v++);C!==void 0?o(C):y.continue()}else o()},l.onerror=function(){n(l.error)}}catch(y){n(y)}})}).catch(n)});return f(a,t),a}function yr(e,t,r){var a=this;e=h(e);var o=new u(function(n,i){var s;a.ready().then(function(){return s=a._dbInfo,Q.call(t)==="[object Blob]"?k(s.db).then(function(c){return c?t:me(t)}):t}).then(function(c){J(a._dbInfo,d,function(l,v){if(l)return i(l);try{var y=v.objectStore(a._dbInfo.storeName);c===null&&(c=void 0);var T=y.put(c,e);v.oncomplete=function(){c===void 0&&(c=null),n(c)},v.onabort=v.onerror=function(){var C=T.error?T.error:T.transaction.error;i(C)}}catch(C){i(C)}})}).catch(i)});return f(o,r),o}function _r(e,t){var r=this;e=h(e);var a=new u(function(o,n){r.ready().then(function(){J(r._dbInfo,d,function(i,s){if(i)return n(i);try{var c=s.objectStore(r._dbInfo.storeName),l=c.delete(e);s.oncomplete=function(){o()},s.onerror=function(){n(l.error)},s.onabort=function(){var v=l.error?l.error:l.transaction.error;n(v)}}catch(v){n(v)}})}).catch(n)});return f(a,t),a}function br(e){var t=this,r=new u(function(a,o){t.ready().then(function(){J(t._dbInfo,d,function(n,i){if(n)return o(n);try{var s=i.objectStore(t._dbInfo.storeName),c=s.clear();i.oncomplete=function(){a()},i.onabort=i.onerror=function(){var l=c.error?c.error:c.transaction.error;o(l)}}catch(l){o(l)}})}).catch(o)});return f(r,e),r}function wr(e){var t=this,r=new u(function(a,o){t.ready().then(function(){J(t._dbInfo,A,function(n,i){if(n)return o(n);try{var s=i.objectStore(t._dbInfo.storeName),c=s.count();c.onsuccess=function(){a(c.result)},c.onerror=function(){o(c.error)}}catch(l){o(l)}})}).catch(o)});return f(r,e),r}function Sr(e,t){var r=this,a=new u(function(o,n){if(e<0){o(null);return}r.ready().then(function(){J(r._dbInfo,A,function(i,s){if(i)return n(i);try{var c=s.objectStore(r._dbInfo.storeName),l=!1,v=c.openKeyCursor();v.onsuccess=function(){var y=v.result;if(!y){o(null);return}e===0||l?o(y.key):(l=!0,y.advance(e))},v.onerror=function(){n(v.error)}}catch(y){n(y)}})}).catch(n)});return f(a,t),a}function Ir(e){var t=this,r=new u(function(a,o){t.ready().then(function(){J(t._dbInfo,A,function(n,i){if(n)return o(n);try{var s=i.objectStore(t._dbInfo.storeName),c=s.openKeyCursor(),l=[];c.onsuccess=function(){var v=c.result;if(!v){a(l);return}l.push(v.key),v.continue()},c.onerror=function(){o(c.error)}}catch(v){o(v)}})}).catch(o)});return f(r,e),r}function Er(e,t){t=P.apply(this,arguments);var r=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var a=this,o;if(!e.name)o=u.reject("Invalid arguments");else{var n=e.name===r.name&&a._dbInfo.db,i=n?u.resolve(a._dbInfo.db):Y(e).then(function(s){var c=z[e.name],l=c.forages;c.db=s;for(var v=0;v<l.length;v++)l[v]._dbInfo.db=s;return s});e.storeName?o=i.then(function(s){if(s.objectStoreNames.contains(e.storeName)){var c=s.version+1;F(e);var l=z[e.name],v=l.forages;s.close();for(var y=0;y<v.length;y++){var T=v[y];T._dbInfo.db=null,T._dbInfo.version=c}var C=new u(function(B,U){var q=S.open(e.name,c);q.onerror=function(G){var ne=q.result;ne.close(),U(G)},q.onupgradeneeded=function(){var G=q.result;G.deleteObjectStore(e.storeName)},q.onsuccess=function(){var G=q.result;G.close(),B(G)}});return C.then(function(B){l.db=B;for(var U=0;U<v.length;U++){var q=v[U];q._dbInfo.db=B,W(q._dbInfo)}}).catch(function(B){throw($(e,B)||u.resolve()).catch(function(){}),B})}}):o=i.then(function(s){F(e);var c=z[e.name],l=c.forages;s.close();for(var v=0;v<l.length;v++){var y=l[v];y._dbInfo.db=null}var T=new u(function(C,B){var U=S.deleteDatabase(e.name);U.onerror=function(){var q=U.result;q&&q.close(),B(U.error)},U.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},U.onsuccess=function(){var q=U.result;q&&q.close(),C(q)}});return T.then(function(C){c.db=C;for(var B=0;B<l.length;B++){var U=l[B];W(U._dbInfo)}}).catch(function(C){throw($(e,C)||u.resolve()).catch(function(){}),C})})}return f(o,t),o}var Rr={_driver:"asyncStorage",_initStorage:hr,_support:I(),iterate:pr,getItem:gr,setItem:yr,removeItem:_r,clear:br,length:wr,key:Sr,keys:Ir,dropInstance:Er};function Nr(){return typeof openDatabase=="function"}var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ar="~~local_forage_type~",xe=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",he=ue.length,ge="arbf",pe="blob",Oe="si08",De="ui08",Le="uic8",ke="si16",Ce="si32",Be="ur16",ze="ui32",Me="fl32",qe="fl64",Ue=he+ge.length,Fe=Object.prototype.toString;function We(e){var t=e.length*.75,r=e.length,a,o=0,n,i,s,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var l=new ArrayBuffer(t),v=new Uint8Array(l);for(a=0;a<r;a+=4)n=X.indexOf(e[a]),i=X.indexOf(e[a+1]),s=X.indexOf(e[a+2]),c=X.indexOf(e[a+3]),v[o++]=n<<2|i>>4,v[o++]=(i&15)<<4|s>>2,v[o++]=(s&3)<<6|c&63;return l}function ye(e){var t=new Uint8Array(e),r="",a;for(a=0;a<t.length;a+=3)r+=X[t[a]>>2],r+=X[(t[a]&3)<<4|t[a+1]>>4],r+=X[(t[a+1]&15)<<2|t[a+2]>>6],r+=X[t[a+2]&63];return t.length%3===2?r=r.substring(0,r.length-1)+"=":t.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function Tr(e,t){var r="";if(e&&(r=Fe.call(e)),e&&(r==="[object ArrayBuffer]"||e.buffer&&Fe.call(e.buffer)==="[object ArrayBuffer]")){var a,o=ue;e instanceof ArrayBuffer?(a=e,o+=ge):(a=e.buffer,r==="[object Int8Array]"?o+=Oe:r==="[object Uint8Array]"?o+=De:r==="[object Uint8ClampedArray]"?o+=Le:r==="[object Int16Array]"?o+=ke:r==="[object Uint16Array]"?o+=Be:r==="[object Int32Array]"?o+=Ce:r==="[object Uint32Array]"?o+=ze:r==="[object Float32Array]"?o+=Me:r==="[object Float64Array]"?o+=qe:t(new Error("Failed to get type for BinaryArray"))),t(o+ye(a))}else if(r==="[object Blob]"){var n=new FileReader;n.onload=function(){var i=Ar+e.type+"~"+ye(this.result);t(ue+pe+i)},n.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(i){console.error("Couldn't convert value into a JSON string: ",e),t(null,i)}}function Pr(e){if(e.substring(0,he)!==ue)return JSON.parse(e);var t=e.substring(Ue),r=e.substring(he,Ue),a;if(r===pe&&xe.test(t)){var o=t.match(xe);a=o[1],t=t.substring(o[0].length)}var n=We(t);switch(r){case ge:return n;case pe:return E([n],{type:a});case Oe:return new Int8Array(n);case De:return new Uint8Array(n);case Le:return new Uint8ClampedArray(n);case ke:return new Int16Array(n);case Be:return new Uint16Array(n);case Ce:return new Int32Array(n);case ze:return new Uint32Array(n);case Me:return new Float32Array(n);case qe:return new Float64Array(n);default:throw new Error("Unkown type: "+r)}}var _e={serialize:Tr,deserialize:Pr,stringToBuffer:We,bufferToString:ye};function je(e,t,r,a){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,a)}function xr(e){var t=this,r={db:null};if(e)for(var a in e)r[a]=typeof e[a]!="string"?e[a].toString():e[a];var o=new u(function(n,i){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(s){return i(s)}r.db.transaction(function(s){je(s,r,function(){t._dbInfo=r,n()},function(c,l){i(l)})},i)});return r.serializer=_e,o}function K(e,t,r,a,o,n){e.executeSql(r,a,o,function(i,s){s.code===s.SYNTAX_ERR?i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(c,l){l.rows.length?n(c,s):je(c,t,function(){c.executeSql(r,a,o,n)},n)},n):n(i,s)},n)}function Or(e,t){var r=this;e=h(e);var a=new u(function(o,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(s){K(s,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(c,l){var v=l.rows.length?l.rows.item(0).value:null;v&&(v=i.serializer.deserialize(v)),o(v)},function(c,l){n(l)})})}).catch(n)});return f(a,t),a}function Dr(e,t){var r=this,a=new u(function(o,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(s){K(s,i,"SELECT * FROM "+i.storeName,[],function(c,l){for(var v=l.rows,y=v.length,T=0;T<y;T++){var C=v.item(T),B=C.value;if(B&&(B=i.serializer.deserialize(B)),B=e(B,C.key,T+1),B!==void 0){o(B);return}}o()},function(c,l){n(l)})})}).catch(n)});return f(a,t),a}function $e(e,t,r,a){var o=this;e=h(e);var n=new u(function(i,s){o.ready().then(function(){t===void 0&&(t=null);var c=t,l=o._dbInfo;l.serializer.serialize(t,function(v,y){y?s(y):l.db.transaction(function(T){K(T,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,v],function(){i(c)},function(C,B){s(B)})},function(T){if(T.code===T.QUOTA_ERR){if(a>0){i($e.apply(o,[e,c,r,a-1]));return}s(T)}})})}).catch(s)});return f(n,r),n}function Lr(e,t,r){return $e.apply(this,[e,t,r,1])}function kr(e,t){var r=this;e=h(e);var a=new u(function(o,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(s){K(s,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){o()},function(c,l){n(l)})})}).catch(n)});return f(a,t),a}function Cr(e){var t=this,r=new u(function(a,o){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(i){K(i,n,"DELETE FROM "+n.storeName,[],function(){a()},function(s,c){o(c)})})}).catch(o)});return f(r,e),r}function Br(e){var t=this,r=new u(function(a,o){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(i){K(i,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],function(s,c){var l=c.rows.item(0).c;a(l)},function(s,c){o(c)})})}).catch(o)});return f(r,e),r}function zr(e,t){var r=this,a=new u(function(o,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(s){K(s,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(c,l){var v=l.rows.length?l.rows.item(0).key:null;o(v)},function(c,l){n(l)})})}).catch(n)});return f(a,t),a}function Mr(e){var t=this,r=new u(function(a,o){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(i){K(i,n,"SELECT key FROM "+n.storeName,[],function(s,c){for(var l=[],v=0;v<c.rows.length;v++)l.push(c.rows.item(v).key);a(l)},function(s,c){o(c)})})}).catch(o)});return f(r,e),r}function qr(e){return new u(function(t,r){e.transaction(function(a){a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(o,n){for(var i=[],s=0;s<n.rows.length;s++)i.push(n.rows.item(s).name);t({db:e,storeNames:i})},function(o,n){r(n)})},function(a){r(a)})})}function Ur(e,t){t=P.apply(this,arguments);var r=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var a=this,o;return e.name?o=new u(function(n){var i;e.name===r.name?i=a._dbInfo.db:i=openDatabase(e.name,"","",0),e.storeName?n({db:i,storeNames:[e.storeName]}):n(qr(i))}).then(function(n){return new u(function(i,s){n.db.transaction(function(c){function l(C){return new u(function(B,U){c.executeSql("DROP TABLE IF EXISTS "+C,[],function(){B()},function(q,G){U(G)})})}for(var v=[],y=0,T=n.storeNames.length;y<T;y++)v.push(l(n.storeNames[y]));u.all(v).then(function(){i()}).catch(function(C){s(C)})},function(c){s(c)})})}):o=u.reject("Invalid arguments"),f(o,t),o}var Fr={_driver:"webSQLStorage",_initStorage:xr,_support:Nr(),iterate:Dr,getItem:Or,setItem:Lr,removeItem:kr,clear:Cr,length:Br,key:zr,keys:Mr,dropInstance:Ur};function Wr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function He(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function jr(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function $r(){return!jr()||localStorage.length>0}function Hr(e){var t=this,r={};if(e)for(var a in e)r[a]=e[a];return r.keyPrefix=He(e,t._defaultConfig),$r()?(t._dbInfo=r,r.serializer=_e,u.resolve()):u.reject()}function Yr(e){var t=this,r=t.ready().then(function(){for(var a=t._dbInfo.keyPrefix,o=localStorage.length-1;o>=0;o--){var n=localStorage.key(o);n.indexOf(a)===0&&localStorage.removeItem(n)}});return f(r,e),r}function Gr(e,t){var r=this;e=h(e);var a=r.ready().then(function(){var o=r._dbInfo,n=localStorage.getItem(o.keyPrefix+e);return n&&(n=o.serializer.deserialize(n)),n});return f(a,t),a}function Jr(e,t){var r=this,a=r.ready().then(function(){for(var o=r._dbInfo,n=o.keyPrefix,i=n.length,s=localStorage.length,c=1,l=0;l<s;l++){var v=localStorage.key(l);if(v.indexOf(n)===0){var y=localStorage.getItem(v);if(y&&(y=o.serializer.deserialize(y)),y=e(y,v.substring(i),c++),y!==void 0)return y}}});return f(a,t),a}function Vr(e,t){var r=this,a=r.ready().then(function(){var o=r._dbInfo,n;try{n=localStorage.key(e)}catch{n=null}return n&&(n=n.substring(o.keyPrefix.length)),n});return f(a,t),a}function Qr(e){var t=this,r=t.ready().then(function(){for(var a=t._dbInfo,o=localStorage.length,n=[],i=0;i<o;i++){var s=localStorage.key(i);s.indexOf(a.keyPrefix)===0&&n.push(s.substring(a.keyPrefix.length))}return n});return f(r,e),r}function Xr(e){var t=this,r=t.keys().then(function(a){return a.length});return f(r,e),r}function Kr(e,t){var r=this;e=h(e);var a=r.ready().then(function(){var o=r._dbInfo;localStorage.removeItem(o.keyPrefix+e)});return f(a,t),a}function Zr(e,t,r){var a=this;e=h(e);var o=a.ready().then(function(){t===void 0&&(t=null);var n=t;return new u(function(i,s){var c=a._dbInfo;c.serializer.serialize(t,function(l,v){if(v)s(v);else try{localStorage.setItem(c.keyPrefix+e,l),i(n)}catch(y){(y.name==="QuotaExceededError"||y.name==="NS_ERROR_DOM_QUOTA_REACHED")&&s(y),s(y)}})})});return f(o,r),o}function et(e,t){if(t=P.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var a=this,o;return e.name?o=new u(function(n){e.storeName?n(He(e,a._defaultConfig)):n(e.name+"/")}).then(function(n){for(var i=localStorage.length-1;i>=0;i--){var s=localStorage.key(i);s.indexOf(n)===0&&localStorage.removeItem(s)}}):o=u.reject("Invalid arguments"),f(o,t),o}var rt={_driver:"localStorageWrapper",_initStorage:Hr,_support:Wr(),iterate:Jr,getItem:Gr,setItem:Zr,removeItem:Kr,clear:Yr,length:Xr,key:Vr,keys:Qr,dropInstance:et},tt=function(t,r){return t===r||typeof t=="number"&&typeof r=="number"&&isNaN(t)&&isNaN(r)},nt=function(t,r){for(var a=t.length,o=0;o<a;){if(tt(t[o],r))return!0;o++}return!1},Ye=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},te={},Ge={},ee={INDEXEDDB:Rr,WEBSQL:Fr,LOCALSTORAGE:rt},at=[ee.INDEXEDDB._driver,ee.WEBSQL._driver,ee.LOCALSTORAGE._driver],se=["dropInstance"],be=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(se),ot={description:"",driver:at.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(e,t){e[t]=function(){var r=arguments;return e.ready().then(function(){return e[t].apply(e,r)})}}function we(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(Ye(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var ut=function(){function e(t){D(this,e);for(var r in ee)if(ee.hasOwnProperty(r)){var a=ee[r],o=a._driver;this[r]=o,te[o]||this.defineDriver(a)}this._defaultConfig=we({},ot),this._config=we({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(r){if((typeof r>"u"?"undefined":_(r))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in r){if(a==="storeName"&&(r[a]=r[a].replace(/\W/g,"_")),a==="version"&&typeof r[a]!="number")return new Error("Database version must be a number.");this._config[a]=r[a]}return"driver"in r&&r.driver?this.setDriver(this._config.driver):!0}else return typeof r=="string"?this._config[r]:this._config},e.prototype.defineDriver=function(r,a,o){var n=new u(function(i,s){try{var c=r._driver,l=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!r._driver){s(l);return}for(var v=be.concat("_initStorage"),y=0,T=v.length;y<T;y++){var C=v[y],B=!nt(se,C);if((B||r[C])&&typeof r[C]!="function"){s(l);return}}var U=function(){for(var ne=function(ct){return function(){var lt=new Error("Method "+ct+" is not implemented by the current driver"),Je=u.reject(lt);return f(Je,arguments[arguments.length-1]),Je}},Se=0,ft=se.length;Se<ft;Se++){var Ie=se[Se];r[Ie]||(r[Ie]=ne(Ie))}};U();var q=function(ne){te[c]&&console.info("Redefining LocalForage driver: "+c),te[c]=r,Ge[c]=ne,i()};"_support"in r?r._support&&typeof r._support=="function"?r._support().then(q,s):q(!!r._support):q(!0)}catch(G){s(G)}});return p(n,a,o),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(r,a,o){var n=te[r]?u.resolve(te[r]):u.reject(new Error("Driver not found."));return p(n,a,o),n},e.prototype.getSerializer=function(r){var a=u.resolve(_e);return p(a,r),a},e.prototype.ready=function(r){var a=this,o=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return p(o,r,r),o},e.prototype.setDriver=function(r,a,o){var n=this;Ye(r)||(r=[r]);var i=this._getSupportedDrivers(r);function s(){n._config.driver=n.driver()}function c(y){return n._extend(y),s(),n._ready=n._initStorage(n._config),n._ready}function l(y){return function(){var T=0;function C(){for(;T<y.length;){var B=y[T];return T++,n._dbInfo=null,n._ready=null,n.getDriver(B).then(c).catch(C)}s();var U=new Error("No available storage method found.");return n._driverSet=u.reject(U),n._driverSet}return C()}}var v=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=v.then(function(){var y=i[0];return n._dbInfo=null,n._ready=null,n.getDriver(y).then(function(T){n._driver=T._driver,s(),n._wrapLibraryMethodsWithReady(),n._initDriver=l(i)})}).catch(function(){s();var y=new Error("No available storage method found.");return n._driverSet=u.reject(y),n._driverSet}),p(this._driverSet,a,o),this._driverSet},e.prototype.supports=function(r){return!!Ge[r]},e.prototype._extend=function(r){we(this,r)},e.prototype._getSupportedDrivers=function(r){for(var a=[],o=0,n=r.length;o<n;o++){var i=r[o];this.supports(i)&&a.push(i)}return a},e.prototype._wrapLibraryMethodsWithReady=function(){for(var r=0,a=be.length;r<a;r++)it(this,be[r])},e.prototype.createInstance=function(r){return new e(r)},e}(),st=new ut;x.exports=st},{3:3}]},{},[4])(4)})})(lr);var It=lr.exports;const dr=vt(It),Et="gimme-font",Rt="1.0.1",Nt="a basic web ui for browsing fonts installed on your device",At="Sean S. LeBlanc <sean.s.leblanc@gmail.com>",Tt="MIT",Pt="module",xt={type:"git",url:"git+https://github.com/seleb/gimme-font.git"},Ot={plugins:["@semantic-release/commit-analyzer","@semantic-release/release-notes-generator","@semantic-release/changelog","@semantic-release/npm",["@semantic-release/github",{successComment:!1,failTitle:!1}],["@semantic-release/git",{assets:["CHANGELOG.md","package.json","package-lock.json"]}]]},Dt={postversion:"npm run build",start:"vite",build:"vite build",serve:"vite preview --port 80","start:prod":"npm run build && npm run serve",lint:'eslint "**/*.ts"',typecheck:"tsc --skipLibCheck",analyze:"npx vite-bundle-visualizer -t sunburst"},Lt={"@typescript-eslint/eslint-plugin":"^6.13.1","@typescript-eslint/parser":"^6.13.1",eslint:"^8.41.0","eslint-config-airbnb-base":"^15.0.0","eslint-config-airbnb-typescript":"^17.0.0","eslint-config-prettier":"^9.1.0","eslint-plugin-import":"^2.27.5",localforage:"^1.10.0","lorem-ipsum":"^2.0.8",sass:"^1.71.0",typescript:"^5.0.4",vite:"^5.0.4"},Ee={private:!0,name:Et,version:Rt,description:Nt,author:At,license:Tt,type:Pt,repository:xt,release:Ot,scripts:Dt,devDependencies:Lt};dr.config({name:Ee.name,storeName:Ee.name.replace(/^[a-zA-Z0-9_]/g,"_"),description:Ee.description});const Ve=dr;async function Bt(){var Q;const m=document.querySelector("#prompt"),L=document.querySelector("#storage-warning"),w=document.querySelector("#random"),x=document.querySelector("#random-all"),N=document.querySelector("#family-count"),_=document.querySelector("#style-count"),D=document.querySelector("#list"),g=document.querySelector("#preview"),S=g==null?void 0:g.querySelector(".fontname"),I=g==null?void 0:g.querySelector("header"),E=g==null?void 0:g.querySelector(".lipsum"),u=g==null?void 0:g.querySelector("input");if(!m||!L||!w||!x||!N||!_||!D||!g||!S||!I||!E||!u)throw new Error("could not find elements");if(!("queryLocalFonts"in window))throw new Error(`Sorry, this app doesn't work on your browser! <a href="https://developer.mozilla.org/en-US/docs/Web/API/Local_Font_Access_API#browser_compatibility">See here</a> for other browsers that may work for you.`);const f=await navigator.permissions.query({name:"local-fonts"});if(f.state==="denied")throw new Error("You've denied access to your local fonts! If you want to use this app, enable or reset this permission manually through your browser's settings.");if(f.state==="prompt"){(Q=document.querySelector("#permission"))==null||Q.addEventListener("click",async()=>{var A;await((A=window.queryLocalFonts)==null?void 0:A.call(window)),window.location.reload()});return}m.remove();const p=new Set;try{const A=await Ve.getItem("locked");Array.isArray(A)&&A.forEach(d=>{typeof d=="string"&&p.add(d)})}catch(A){L.style.display="block",dt(A)}let h=new Map;const P=A=>{const d=A.currentTarget;d.checked?p.add(d.value):p.delete(d.value),Ve.setItem("locked",[...p])},O=A=>{const[d,R]=St(),b=h.get(A);g.style.fontFamily=A,S.textContent=((b==null?void 0:b.length)??1)>1?`${A} (${b==null?void 0:b.length} styles)`:A,I.textContent=d,E.innerHTML=R,g.dataset.slide=g.dataset.slide==="false"?"true":"false",h.delete(A),u.value=A,u.addEventListener("change",P),h.size||(w.disabled=!0,x.disabled=!0,w.textContent="No more fonts")},M=()=>{const A=g.cloneNode(!0);A.id="";const d=A.querySelector("input");d&&d.addEventListener("change",P),g.after(A),u.checked=!1},z=async()=>{var d;const A=await((d=window.queryLocalFonts)==null?void 0:d.call(window))||[];if(!A.length)throw new Error("Could not find any fonts");h.clear(),A.forEach(R=>{const b=h.get(R.family);b?b.push(R):h.set(R.family,[R])}),N.textContent=h.size.toLocaleString(),_.textContent=A.length.toLocaleString()};w.onclick=()=>{M(),O(le([...h.keys()]))},x.onclick=async()=>{if(window.confirm("Are you sure? This might take awhile..."))for(;h.size;)M(),O(le([...h.keys()])),await new Promise(A=>requestAnimationFrame(A))},await z(),p.forEach(A=>{O(A),u.checked=!0,M()}),O(le([...h.keys()]))}export{Bt as main};
